# ╭───────────────────────────────────────────────────────────────────────────────╮
# │                                    modkeys                                    │
# ╰───────────────────────────────────────────────────────────────────────────────╯
# ├───────────────────────┤ SUPER: main mod, hypr control ├───────────────────────┤
$M   = SUPER
$MS  = SUPER SHIFT
$MSC = SUPER SHIFT CTRL

$CS   = CTRL SHIFT

# ├────────────────────┤ ALT: secondary mod, focus management ├───────────────────┤
$A   = ALT
$AS  = ALT SHIFT
$AM  = ALT SUPER
$AMS = ALT SUPER SHIFT

# ╭───────────────────────────────────────────────────────────────────────────────╮
# │                               window management                               │
# ╰───────────────────────────────────────────────────────────────────────────────╯
bindd = $M,  X, Close active window, killactive
bindd = $MS, X, Force kill window,   exec, hyprctl kill

bindd = $M,   A,      Set pseudo-master,   exec, pseudo-master
bindd = $M,   Z,      Swap with master,    exec, swap-master
bindd = $CS,  Escape, Toggle monocle,      exec, monocle
bindd = $MSC, T,      Toggle floating,     exec, hyprctl dispatch togglefloating

bindm = $MSC, mouse:272, movewindow
bindm = $MSC, mouse:273, resizewindow

# ╭───────────────────────────────────────────────────────────────────────────────╮
# │         focus navigation (custom layout: s=left, t=right, r=up, e=down)       │
# ╰───────────────────────────────────────────────────────────────────────────────╯
bindd = $A, Backspace, Cycle master split,    exec,      split
bindd = $A, Z,         Toggle alt master,     exec,      split -d

bindd = $A, s, Focus left,            movefocus, l
bindd = $A, t, Focus right,           movefocus, r
bindd = $A, r, Focus up,              movefocus, u
bindd = $A, e, Focus down,            movefocus, d
bindd = $A, g, Cycle previous window, cyclenext, prev

bindd = $AM,  Left,  Move window left,  movewindow, l
bindd = $AM,  Right, Move window right, movewindow, r
bindd = $AM,  Up,    Move window up,    movewindow, u
bindd = $AM,  Down,  Move window down,  movewindow, d

bindd = $AMS, S,     Spotify position,  exec,       hyprctl dispatch setfloating; hyprctl dispatch moveactive exact 2018 88; hyprctl dispatch resizeactive exact 1710 2053

# ╭───────────────────────────────────────────────────────────────────────────────╮
# │        workspaces (1: chat, 2: misc, 3: primary, 4: settings, 5: music)       │
# ╰───────────────────────────────────────────────────────────────────────────────╯
bindd = $M, s, Workspace 1,         exec, ws 1
bindd = $M, e, Workspace 2,         exec, ws 2
bindd = $M, t, Workspace 3,         exec, ws 3
bindd = $M, d, Workspace 4,         exec, ws 4
bindd = $M, g, Workspace 5 (music), exec, ws-music

bindd = $AM, s, Open layout 1, exec, layout -n 1
bindd = $AM, e, Open layout 2, exec, layout -n 2
bindd = $AM, t, Open layout 3, exec, layout -n 3 -a "h"
bindd = $AM, d, Open layout 4, exec, layout -n 4

# ╭───────────────────────────────────────────────────────────────────────────────╮
# │                              applications                                     │
# ╰───────────────────────────────────────────────────────────────────────────────╯
$browser = firefox-developer-edition

bindd = $M,  Return, Terminal,      exec, editor-focus --term
bindd = $M,  C,      Editor,        exec, focus-active kitty --title "editor" "kitty --title=editor --session ~/.config/kitty/sessions/editor.conf"
bindd = $AS, E,      Focus nvim,    exec, editor-focus --nvim
bindd = $AS, S,      Focus NvimTree, exec, editor-focus --nvimtree
bindd = $MS, C,      Agents,        exec, focus-active kitty --title "agents" "kitty --title=agents --session ~/.config/kitty/sessions/agents.conf"
bindd = $M,  F,      Browser,       exec, focus-active firefox-developer-edition $browser
bindd = $MS, Return, Apps,          exec, hyprlauncher

# ╭───────────────────────────────────────────────────────────────────────────────╮
# │                                 media                                         │
# ╰───────────────────────────────────────────────────────────────────────────────╯
$player = playerctl --player=spotify

bindd = $MS, H,     Play/pause,     exec, $player play-pause
bindl = ,           XF86AudioPlay,  exec, $player play-pause
bindd = $MS, Comma, Next track,     exec, $player next
bindl = ,           XF86AudioNext,  exec, $player next
bindd = $MS, D,     Previous track, exec, $player previous
bindl = ,           XF86AudioPrev,  exec, $player previous

# ╭───────────────────────────────────────────────────────────────────────────────╮
# │                        screenshots & recording                                │
# ╰───────────────────────────────────────────────────────────────────────────────╯
bindd = $MS,  S, Screenshot region to clipboard, exec, screenshot
bindd = $MS,  B, Screenshot for Claude,          exec, screenshot -f
bindd = $MSC, C, Screenshot region to file,      exec, screenshot -s

bindd = $MSC, V, Record screen,            exec, record & disown
bindd = $MSC, U, Record region (no audio), exec, record -s slurp -a none & disown
bindd = $MSC, O, Stop recording,           exec, pkill -SIGINT record

# ╭───────────────────────────────────────────────────────────────────────────────╮
# │                             pseudo-lock                                       │
# ╰───────────────────────────────────────────────────────────────────────────────╯
bindd = SUPER SHIFT, L, Lock screen, exec, lock
bindd = SUPER SHIFT, Q, pseudo-lock, exec, pseudo-lock

submap = pseudolock
bindd  = SUPER SHIFT, Q, Unlock pseudo-lock, exec, pseudo-lock -u
bind = , catchall, exec,
submap = reset
