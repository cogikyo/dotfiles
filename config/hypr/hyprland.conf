# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# color palette
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
source = ~/.config/hypr/palette.conf

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# global environment variables
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
env = HYPRCURSOR_THEME, catppuccin-macchiato-dark
env = HYPRCURSOR_SIZE, 24
env = XCURSOR_THEME, catppuccin-macchiato-dark
env = XCURSOR_SIZE, 24

env = XDG_CURRENT_DESKTOP, Hyprland
env = XDG_SESSION_TYPE, wayland
env = XDG_SESSION_DESKTOP, Hyprland

env = QT_QPA_PLATFORM, wayland;xcb
env = QT_QPA_PLATFORMTHEME, hyprqt6engine
env = QT_WAYLAND_DISABLE_WINDOWDECORATION, 1
env = QT_AUTO_SCREEN_SCALE_FACTOR, 1
env = QT_STYLE_OVERRIDE, kvantum

env = GDK_BACKEND, wayland,x11
env = SDL_VIDEODRIVER, wayland

env = CLAUDE_CONFIG_DIR, $HOME/.config/claude

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# exec-once: run commands once at startup
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
exec-once = dunst            # notification daemon
exec-once = hyprpolkitagent  # polkit agent
exec-once = hypridle         # idle detection
exec-once = newtab-server    # local file server (new tab)

# eww widgets initialization
$eww_dir = ~/dotfiles/config/eww/bin
exec-once = $eww_dir/create_temp_files
exec-once = $eww_dir/music_info get_json
exec-once = $eww_dir/workspaces

# luanch startup script
exec-once = hyprstart        

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# window rules: set window properties based on title or class
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
monitor = HDMI-A-1, 3840x2160@100, 0x0, 1
monitor = HDMI-A-1, addreserved, 80, 16, 105, 85

# Discord
windowrulev2 = workspace 1 silent, class:discord

# Spotify
windowrulev2 = workspace 5 silent, title:^(Spotify)$
windowrulev2 = float, title:^(Spotify)$

# Zathura
windowrulev2 = float, title:zathura
windowrulev2 = size 1000 1475, title:zathura

# Float by default
windowrulev2 = float, title:imv
windowrulev2 = float, title:mpv
windowrulev2 = float, title:zoom
windowrulev2 = center, title:zathura

# Firefox
windowrulev2 = opacity 1.0 override 1.0 override, title:^(firefox-developer-edition)$

# GLava
windowrulev2 = noborder, title:^(GLava)$
windowrulev2 = nofocus, title:^(GLava)$
windowrulev2 = noshadow, title:^(GLava)$
windowrulev2 = float, title:^(GLava)$
windowrulev2 = pin, title:^(GLava)$
windowrulev2 = noblur, title:^(GLava)$

# GUI modals
$modal = title:^(File|Settings|Authentication|Save As|terminalfloat)
windowrulev2 = float, $modal
windowrulev2 = dimaround, $modal
windowrulev2 = size 2900 1606, $modal
windowrulev2 = move 17% 10%, $modal

# Webcam
windowrulev2 = float, title:guvcview
windowrulev2 = rounding 69, title:guvcview
windowrulev2 = opacity 0.8, title:guvcview
windowrulev2 = nofocus, title:guvcview

# Special workspace for stash (hidden slaves)
workspace = special:stash, gapsout:20

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# settings
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# keybinds
source = ~/.config/hypr/binds.conf

general {
    border_size = 2
    gaps_in = 8
    gaps_out = 0
    col.active_border = $peach
    col.inactive_border = $blue
    layout = master
    resize_on_border = false
}

decoration {
    rounding = 4
    active_opacity = 1
    inactive_opacity = 0.98
    fullscreen_opacity = 1

    shadow {
        enabled = true
        range = 24
        render_power = 4
        ignore_window = true
        color = $shadow_active
        color_inactive = $shadow_inactive
        offset = 0 0
    }
}

animations {
    enabled = true
    animation = windows, 1, 1, default, popin
    animation = windowsOut, 1, 1.5, default
    animation = windowsMove, 1, 1.5, default, slidefade
    animation = workspaces, 1, 0.5, default, slide
    animation = fade, 1, 0.5, default
}

input {
    repeat_rate = 69
    repeat_delay = 324
    follow_mouse = 1
    sensitivity = 1
    float_switch_override_focus = 0
}

master {
    allow_small_split = true
    special_scale_factor = 1
    mfact = 0.5749
    new_status = slave
    new_on_top = false
    new_on_active = none
    orientation = left
    inherit_fullscreen = true
    smart_resizing = false
    drop_at_cursor = true
    always_keep_position = false
}

dwindle {
    pseudotile = false
    force_split = 0
    preserve_split = false
    smart_split = false
    smart_resizing = true
    permanent_direction_override = false
    special_scale_factor = 1
    split_width_multiplier = 1.0
    use_active_for_splits = true
    default_split_ratio = 1.0
    split_bias = 0
    precise_mouse_move = false
    single_window_aspect_ratio = 0 0
    single_window_aspect_ratio_tolerance = 0.1
}

# HyprEmoji config
source = ~/.config/hypremoji/hypremoji.conf
